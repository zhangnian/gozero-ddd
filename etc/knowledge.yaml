# 知识库管理系统配置文件
# go-zero 使用 YAML 格式的配置文件

# 服务名称
Name: knowledge-api

# 主机地址
Host: 0.0.0.0

# 端口号
Port: 8888

# 日志配置
Log:
  # 日志级别: info, error, severe
  Level: info
  # 日志模式: console, file
  Mode: console
  # 日志保留天数
  KeepDays: 7

# 超时配置（毫秒）
Timeout: 30000

# 最大请求体大小（字节）
MaxBytes: 10485760  # 10MB

# MySQL 配置 (GORM)
MySQL:
  # 数据源 DSN 格式: user:password@tcp(host:port)/database?charset=utf8mb4&parseTime=True&loc=Local
  DataSource: "root:123456@tcp(127.0.0.1:3306)/knowledge_db?charset=utf8mb4&parseTime=True&loc=Local"
  # 是否自动迁移表结构（开发环境可设为 true，生产环境建议设为 false 使用手动迁移）
  AutoMigrate: true

# Redis配置（可选）
# Redis:
#   Host: localhost:6379
#   Password: ""
#   DB: 0

# ==================== Kafka 领域事件配置 ====================
# 是否启用 Kafka 事件总线（默认使用同步事件总线）
UseKafka: false

# Kafka 配置
Kafka:
  # Broker 地址列表
  Brokers:
    - localhost:9092
  # 事件主题名称
  Topic: domain-events
  # 消费者组ID
  GroupID: knowledge-service
  # 写入超时
  WriteTimeout: 10s
  # 读取超时
  ReadTimeout: 10s
  # 批量发送大小
  BatchSize: 100
  # 批量发送超时
  BatchTimeout: 1s
  # 确认模式: -1=all, 0=none, 1=leader
  RequiredAcks: -1
  # 是否异步发送
  Async: false
  # 是否自动创建主题
  AutoCreateTopic: true
